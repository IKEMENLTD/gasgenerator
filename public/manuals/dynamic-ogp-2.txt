================================================================================
Dynamic OGP 使い方説明書
================================================================================

候補者の名前入りOGP画像付きリンクを作成し、
スカウトメッセージのクリック率を上げるツールです。

送ったリンクがSlackやLINEに貼られると、
「山田太郎さん、CTOがあなたと話したがっています」のような
名前入りの画像プレビューが自動で表示されます。

================================================================================
スプレッドシートからのリンク作成================================================================================

スプレッドシートから直接操作することができます。

1. linksシートを開きます。

2. 以下の3列を入力します。

   B列（candidate_name） … 候補者の名前（例: 山田太郎）
   C列（template_id）    … ドロップダウンからテンプレートを選択
   E列（destination_url） … クリック後に飛ばしたいURL（求人票など）

   ※ 他の列は触らなくてOKです。すべて自動で埋まります。

3. 入力した行を選択した状態で、
   メニュー「Dynamic OGP」→「選択行のURLを生成」をクリック。

4. F列（og_url）にURLが生成されます。これが候補者に送るURLです。

5. F列のURLをコピーして、スカウトメッセージに貼り付けて送信。


まとめて作る場合:
  複数行を入力してから「未生成分を一括生成」を選ぶと、
  まだURLが生成されていない行をすべて一括で処理できます。

================================================================================
管理画面の使い方
================================================================================

管理画面からもリンクの作成・一覧表示・テンプレート管理・設定ができます。

--- ダッシュボード ---
  - 総リンク数、総クリック数、クリック率、今月の作成数が確認できます。
  - リンク一覧テーブルで各リンクの状態を確認できます。
  - フィルター: 全件 / クリック済み / 未クリック で絞り込み。
  - 候補者名で検索できます。
  - 各リンクの操作:
    - URLコピー: リンクURLをクリップボードにコピー
    - OGプレビュー: OGP画像を別タブで表示
    - 削除: リンクを削除

--- リンク作成 ---
  1. 候補者名を入力します。
  2. テンプレートをドロップダウンから選択します。
  3. 遷移先URLを入力します。
  4. ヘッドラインのプレビューが自動で表示されます。
  5. 「URL生成」ボタンを押すとリンクが生成されます。
  6. 生成されたURLをコピーしてスカウトメッセージに貼り付けます。

  一括作成:
    テキストエリアに1行1件で「候補者名, テンプレートID, 遷移先URL」を入力し、
    「一括生成」ボタンを押すと複数リンクをまとめて作成できます。

--- テンプレート管理 ---
  - テンプレート一覧で現在のテンプレートを確認できます。
  - 新規追加: テンプレート名とヘッドラインパターンを入力して追加。
  - 編集・削除: 各テンプレートの操作ボタンから。
  - パターン中の {name} が候補者名に自動置換されます。

--- 設定 ---
  - Netlify URL: NetlifyサイトのURLを設定します。
  - 会社名: OGP画像に表示される会社名。
  - アクセントカラー: OGP画像上部のカラーバー色。

※ 管理画面からもスプレッドシートのメニューからも、どちらでもリンク作成できます。

================================================================================
テンプレートについて
================================================================================

templatesシートにメッセージのパターンが登録されています。

  CTO面談       → 「○○さん、CTOがあなたと話したがっています」
  経歴拝見       → 「○○さんのご経歴に感銘を受けました」
  特別案内       → 「○○さんへ、特別なポジションのご案内です」
  カジュアル面談 → 「○○さん、まずはカジュアルにお話しませんか」

テンプレートの追加・編集・削除は管理画面のテンプレートページ、
またはtemplatesシートを直接編集してください。
headline_pattern列の {name} の部分が候補者名に自動で置き換わります。


================================================================================
クリック確認
================================================================================

候補者がリンクをクリックしたかどうかは、管理画面のダッシュボード、
またはlinksシートで確認できます。

  H列（click_count）    … クリック回数
  I列（last_clicked_at） … 最後にクリックされた日時

※ SlackやLINEなどのプレビュー取得でもカウントされる場合があるため、
   厳密な数値ではなく目安として使ってください。
   0のまま → まだ見られていない可能性が高い、くらいの判断に使えます。


================================================================================
よくある質問
================================================================================

Q. 同じ候補者にもう一度リンクを作り直したい
A. 管理画面のリンク作成ページで同じ名前を入力してURLを生成してください。
   以前のURLも引き続き使えます。

Q. 送った後にテンプレートや名前を変えたい
A. 一度生成したURLの内容は変更できません。
   新しいリンクを作成して、新しいURLを送ってください。

Q. OGP画像がプレビューに出ない
A. プラットフォームによってはキャッシュの反映に時間がかかります。
   少し待ってから再度貼り直してみてください。

Q. URLが長すぎて貼れない
A. 候補者名やURLの長さによって200〜300文字程度になります。
   通常のスカウト媒体では問題ありませんが、
   SMSなど文字数制限が厳しい場合はご注意ください。
